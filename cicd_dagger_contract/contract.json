{
  "version": "1.0.0",
  "functions": {
    "Build": {
      "description": "Builds the repository and returns the built artifacts",
      "returns": "File",
      "parameters": {
        "golang": [
          { "name": "ctx", "type": "context.Context", "required": true },
          { "name": "source", "type": "*dagger.Directory", "required": true },
          { "name": "releaseCandidate", "type": "bool", "required": false }
        ],
        "python": [
          { "name": "source", "type": "dagger.Directory", "required": true },
          { "name": "release_candidate", "type": "bool", "required": false }
        ],
        "java": [
          { "name": "source", "type": "Directory", "required": true },
          { "name": "releaseCandidate", "type": "boolean", "required": false }
        ],
        "typescript": [
          { "name": "source", "type": "Directory", "required": true },
          { "name": "releaseCandidate", "type": "boolean", "required": false }
        ]
      }
    },
    "UnitTest": {
      "description": "Runs unit tests against the built artifacts",
      "returns": "string",
      "parameters": {
        "golang": [
          { "name": "ctx", "type": "context.Context", "required": true },
          { "name": "source", "type": "*dagger.Directory", "required": true },
          { "name": "buildArtifact", "type": "*dagger.File", "required": false }
        ],
        "python": [
          { "name": "source", "type": "dagger.Directory", "required": true },
          { "name": "build_artifact", "type": "dagger.File", "required": false }
        ],
        "java": [
          { "name": "source", "type": "Directory", "required": true },
          { "name": "buildArtifact", "type": "File", "required": false }
        ],
        "typescript": [
          { "name": "source", "type": "Directory", "required": true },
          { "name": "buildArtifact", "type": "File", "required": false }
        ]
      }
    },
    "IntegrationTest": {
      "description": "Runs integration tests against a deployed application instance",
      "returns": "string",
      "parameters": {
        "golang": [
          { "name": "ctx", "type": "context.Context", "required": true },
          { "name": "source", "type": "*dagger.Directory", "required": true },
          { "name": "kubeconfig", "type": "*dagger.Secret", "required": true },
          { "name": "awsconfig", "type": "*dagger.Secret", "required": false },
          { "name": "deploymentContext", "type": "*dagger.File", "required": false },
          { "name": "validationContext", "type": "*dagger.File", "required": false }
        ],
        "python": [
          { "name": "source", "type": "dagger.Directory", "required": true },
          { "name": "kubeconfig", "type": "*dagger.Secret", "required": true },
          { "name": "awsconfig", "type": "*dagger.Secret", "required": false },
          { "name": "deployment_context", "type": "dagger.File", "required": false },
          { "name": "validation_context", "type": "dagger.File", "required": false }
        ],
        "java": [
          { "name": "source", "type": "Directory", "required": true },
          { "name": "kubeconfig", "type": "*dagger.Secret", "required": true },
          { "name": "awsconfig", "type": "*dagger.Secret", "required": false },
          { "name": "deploymentContext", "type": "File", "required": false },
          { "name": "validationContext", "type": "File", "required": false }
        ],
        "typescript": [
          { "name": "source", "type": "Directory", "required": true },
          { "name": "kubeconfig", "type": "*dagger.Secret", "required": true },
          { "name": "awsconfig", "type": "*dagger.Secret", "required": false },
          { "name": "deploymentContext", "type": "File", "required": false },
          { "name": "validationContext", "type": "File", "required": false }
        ]
      }
    },
    "Deliver": {
      "description": "Publishes generated artifacts to artifact repositories",
      "returns": "File",
      "parameters": {
        "golang": [
          { "name": "ctx", "type": "context.Context", "required": true },
          { "name": "source", "type": "*dagger.Directory", "required": true },
          { "name": "containerRepository", "type": "string", "required": false },
          { "name": "helmRepository", "type": "string", "required": false },
          { "name": "buildArtifact", "type": "*dagger.File", "required": false },
          { "name": "releaseCandidate", "type": "bool", "required": false }
        ],
        "python": [
          { "name": "source", "type": "dagger.Directory", "required": true },
          { "name": "container_repository", "type": "str", "required": false },
          { "name": "helm_repository", "type": "str", "required": false },
          { "name": "build_artifact", "type": "dagger.File", "required": false },
          { "name": "release_candidate", "type": "bool", "required": false }
        ],
        "java": [
          { "name": "source", "type": "Directory", "required": true },
          { "name": "containerRepository", "type": "String", "required": false },
          { "name": "helmRepository", "type": "String", "required": false },
          { "name": "buildArtifact", "type": "File", "required": false },
          { "name": "releaseCandidate", "type": "boolean", "required": false }
        ],
        "typescript": [
          { "name": "source", "type": "Directory", "required": true },
          { "name": "containerRepository", "type": "string", "required": false },
          { "name": "helmRepository", "type": "string", "required": false },
          { "name": "buildArtifact", "type": "File", "required": false },
          { "name": "releaseCandidate", "type": "boolean", "required": false }
        ]
      }
    },
    "Deploy": {
      "description": "Deploys the repository and returns deployment context",
      "returns": "File",
      "parameters": {
        "golang": [
          { "name": "ctx", "type": "context.Context", "required": true },
          { "name": "source", "type": "*dagger.Directory", "required": true },
          { "name": "awsconfig", "type": "*dagger.Secret", "required": false },
          { "name": "kubeconfig", "type": "*dagger.Secret", "required": false },
          { "name": "helmRepository", "type": "string", "required": false },
          { "name": "containerRepository", "type": "string", "required": false },
          { "name": "releaseCandidate", "type": "bool", "required": false },
          { "name": "deliveryContext", "type": "*dagger.File", "required": false }
        ],
        "python": [
          { "name": "source", "type": "dagger.Directory", "required": true },
          { "name": "awsconfig", "type": "dagger.Secret", "required": false },
          { "name": "kubeconfig", "type": "dagger.Secret", "required": false },
          { "name": "helm_repository", "type": "str", "required": false },
          { "name": "container_repository", "type": "str", "required": false },
          { "name": "release_candidate", "type": "bool", "required": false },
          { "name": "delivery_context", "type": "dagger.File", "required": false }
        ],
        "java": [
          { "name": "source", "type": "Directory", "required": true },
          { "name": "awsconfig", "type": "Secret", "required": false },
          { "name": "kubeconfig", "type": "Secret", "required": false },
          { "name": "helmRepository", "type": "String", "required": false },
          { "name": "containerRepository", "type": "string", "required": false },
          { "name": "releaseCandidate", "type": "boolean", "required": false },
          { "name": "deliveryContext", "type": "File", "required": false }
        ],
        "typescript": [
          { "name": "source", "type": "Directory", "required": true },
          { "name": "awsconfig", "type": "Secret", "required": false },
          { "name": "kubeconfig", "type": "Secret", "required": false },
          { "name": "helmRepository", "type": "string", "required": false },
          { "name": "containerRepository", "type": "string", "required": false },
          { "name": "releaseCandidate", "type": "boolean", "required": false },
          { "name": "deliveryContext", "type": "File", "required": false }
        ]
      }
    },
    "Validate": {
      "description": "Validates that a deployment is healthy and functioning correctly",
      "returns": "File",
      "parameters": {
        "golang": [
          { "name": "ctx", "type": "context.Context", "required": true },
          { "name": "source", "type": "*dagger.Directory", "required": true },
          { "name": "kubeconfig", "type": "*dagger.Secret", "required": true },
          { "name": "awsconfig", "type": "*dagger.Secret", "required": false },
          { "name": "releaseCandidate", "type": "bool", "required": false },
          { "name": "deploymentContext", "type": "*dagger.File", "required": false }
        ],
        "python": [
          { "name": "source", "type": "dagger.Directory", "required": true },
          { "name": "kubeconfig", "type": "dagger.Secret", "required": true },
          { "name": "awsconfig", "type": "dagger.Secret", "required": false },
          { "name": "release_candidate", "type": "bool", "required": false },
          { "name": "deployment_context", "type": "dagger.File", "required": false }
        ],
        "java": [
          { "name": "source", "type": "Directory", "required": true },
          { "name": "kubeconfig", "type": "Secret", "required": true },
          { "name": "awsconfig", "type": "Secret", "required": false },
          { "name": "releaseCandidate", "type": "boolean", "required": false },
          { "name": "deploymentContext", "type": "File", "required": false }
        ],
        "typescript": [
          { "name": "source", "type": "Directory", "required": true },
          { "name": "kubeconfig", "type": "Secret", "required": true },
          { "name": "awsconfig", "type": "Secret", "required": false },
          { "name": "releaseCandidate", "type": "boolean", "required": false },
          { "name": "deploymentContext", "type": "File", "required": false }
        ]
      }
    }
  }
}
